/* CWR 1.12.0 */
/*! License information can be found in LICENSE and LICENSE-THIRD-PARTY */
!function(){var e={914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(945),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=u,u=c,c=s,s=a+v|0,a=i,i=o,o=n,n=v+y|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=o},945:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(655).__exportStar(n(430),t)},430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(655),o=n(945),i=n(914),a=n(658),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(84),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},304:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},84:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return o}});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},372:function(e){"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function r(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function i(e,o,i){if(e&&e[o]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(t(e[o])&&t(i)){var a=e[o],s=i(a,o);return r(s,"__original",a),r(s,"__unwrap",(function(){e[o]===s&&r(e,o,a)})),r(s,"__wrapped",!0),r(e,o,s),s}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=i,o.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=o},655:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return m},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return O},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return o},__generator:function(){return f},__importDefault:function(){return T},__importStar:function(){return C},__makeTemplateObject:function(){return S},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return a},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return h}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},238:function(e,t,n){var r;!function(o,i){"use strict";var a="function",s="undefined",c="object",u="string",l="model",f="name",d="type",p="vendor",h="version",v="architecture",y="console",g="mobile",b="tablet",m="smarttv",w="wearable",E="embedded",S={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===u&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},C={rgx:function(e,t){for(var n,r,o,s,u,l,f=0;f<t.length&&!u;){var d=t[f],p=t[f+1];for(n=r=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(o=0;o<p.length;o++)l=u[++r],typeof(s=p[o])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(S.has(t[n][r],e))return"?"===n?i:n}else if(S.has(t[n],e))return"?"===n?i:n;return e}},T={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[f,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[f,h],[/opios[\/\s]+([\w\.]+)/i],[h,[f,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[h,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,h],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[h,[f,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[h,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[f,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[h,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],h],[/focus\/([\w\.]+)/i],[h,[f,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[h,[f,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[h,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[f,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[h,[f,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[h,[f,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],h],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[f,h],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[f],[/;fbav\/([\w\.]+);/i],[h,[f,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[f,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[f,h],[/\bgsa\/([\w\.]+)\s.*safari\//i],[h,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[h,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],h],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[h,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,h],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[h,[f,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[h,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[h,C.str,T.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[f,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],h],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[h,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,S.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[p,"Samsung"],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[p,"Samsung"],[d,g]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[p,"Apple"],[d,g]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,"Apple"],[d,b]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[p,"Huawei"],[d,b]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[p,"Huawei"],[d,g]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[p,"Xiaomi"],[d,g]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[p,"Xiaomi"],[d,b]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[p,"OPPO"],[d,g]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[p,"Vivo"],[d,g]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[p,"Realme"],[d,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[p,"Motorola"],[d,g]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[p,"Motorola"],[d,b]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[p,"LG"],[d,b]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[p,"LG"],[d,g]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[p,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[p,"Nokia"],[d,g]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[p,"Google"],[d,b]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[p,"Google"],[d,g]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,"Sony"],[d,g]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[p,"Sony"],[d,b]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[p,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[p,"Amazon"],[d,b]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[p,"Amazon"],[d,g]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,p,[d,b]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[p,"BlackBerry"],[d,g]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[p,"ASUS"],[d,b]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[p,"ASUS"],[d,g]],[/(nexus\s9)/i],[l,[p,"HTC"],[d,b]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[p,[l,/_/g," "],[d,g]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[p,"Acer"],[d,b]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[p,"Meizu"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[p,l,[d,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[p,l,[d,b]],[/\s(surface\sduo)\s/i],[l,[p,"Microsoft"],[d,b]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[p,"Fairphone"],[d,g]],[/\s(u304aa)\sbuild/i],[l,[p,"AT&T"],[d,g]],[/sie-(\w*)/i],[l,[p,"Siemens"],[d,g]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[p,"RCA"],[d,b]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[p,"Dell"],[d,b]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[p,"Verizon"],[d,b]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[p,"Barnes & Noble"],[d,b]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[p,"NuVision"],[d,b]],[/;\s(k88)\sbuild/i],[l,[p,"ZTE"],[d,b]],[/;\s(nx\d{3}j)\sbuild/i],[l,[p,"ZTE"],[d,g]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[p,"Swiss"],[d,g]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[p,"Swiss"],[d,b]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[p,"Zeki"],[d,b]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[p,"Dragon Touch"],l,[d,b]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[p,"Insignia"],[d,b]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[p,"NextBook"],[d,b]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[p,"Voice"],l,[d,g]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[p,"LvTel"],l,[d,g]],[/;\s(ph-1)\s/i],[l,[p,"Essential"],[d,g]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[p,"Envizen"],[d,b]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[p,"MachSpeed"],[d,b]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[p,"Rotor"],[d,b]],[/(shield[\w\s]+)\sbuild/i],[l,[p,"Nvidia"],[d,b]],[/(sprint)\s(\w+)/i],[p,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,"Microsoft"],[d,g]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,"Zebra"],[d,b]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,"Zebra"],[d,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[p,l,[d,y]],[/droid.+;\s(shield)\sbuild/i],[l,[p,"Nvidia"],[d,y]],[/(playstation\s[345portablevi]+)/i],[l,[p,"Sony"],[d,y]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[p,"Microsoft"],[d,y]],[/smart-tv.+(samsung)/i],[p,[d,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,"Samsung"],[d,m]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[p,"LG"],[d,m]],[/(apple)\s?tv/i],[p,[l,"Apple TV"],[d,m]],[/crkey/i],[[l,"Chromecast"],[p,"Google"],[d,m]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[p,"Amazon"],[d,m]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[d,m]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,S.trim],[l,S.trim],[d,m]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,m]],[/((pebble))app\/[\d\.]+\s/i],[p,l,[d,w]],[/droid.+;\s(glass)\s\d/i],[l,[p,"Google"],[d,w]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[p,"Zebra"],[d,w]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[p,[d,E]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[d,g]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[d,b]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,S.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[p,"Generic"]],[/(phone)/i],[[d,g]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[f,[h,C.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[h,C.str,T.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[f,"Mac OS"],[h,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[f,h],[/\(bb(10);/i],[h,[f,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[h,[f,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[f,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],h],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[f,h],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],h],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[f,h]]},O=function(e,t){if("object"==typeof e&&(t=e,e=i),!(this instanceof O))return new O(e,t).getResult();var n=e||(void 0!==o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?S.extend(x,t):x;return this.getBrowser=function(){var e={name:i,version:i};return C.rgx.call(e,n,r.browser),e.major=S.major(e.version),e},this.getCPU=function(){var e={architecture:i};return C.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return C.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:i,version:i};return C.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:i,version:i};return C.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>255?S.trim(e,255):e,this},this.setUA(n),this};O.VERSION="0.7.28",O.BROWSER={NAME:f,MAJOR:"major",VERSION:h},O.CPU={ARCHITECTURE:v},O.DEVICE={MODEL:l,VENDOR:p,TYPE:d,CONSOLE:y,MOBILE:g,SMARTTV:m,TABLET:b,WEARABLE:w,EMBEDDED:E},O.ENGINE={NAME:f,VERSION:h},O.OS={NAME:f,VERSION:h},typeof t!==s?(e.exports&&(t=e.exports=O),t.UAParser=O):(r=function(){return O}.call(t,n,t,e))===i||(e.exports=r);var _=void 0!==o&&(o.jQuery||o.Zepto);if(_&&!_.ua){var P=new O;_.ua=P.getResult(),_.ua.get=function(){return P.getUA()},_.ua.set=function(e){P.setUA(e);var t=P.getResult();for(var n in t)_.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.create;function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;var o=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var n,o=new e(t(t({},this),{headers:t({},this.headers)}));return o.query&&(o.query=(n=o.query,Object.keys(n).reduce((function(e,o){var i,a=n[o];return t(t({},e),((i={})[o]=Array.isArray(a)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],r(a),!1):a,i))}),{}))),o},e}();var i=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(e){return a(void 0,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,e.body.getReader().read()];case 1:return t=n.sent().value,[2,JSON.parse(String.fromCharCode.apply(null,t))]}}))}))},u=function(e){return a(void 0,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,e.body.getReader().read()];case 1:return t=n.sent().value,[2,String.fromCharCode.apply(null,t)]}}))}))},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(e){var t=this;this.getId=function(e){return l(t,void 0,void 0,(function(){var t,n,r,o;return f(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=JSON.stringify(e),n=this.getHttpRequest("AWSCognitoIdentityService.GetId",t),[4,this.fetchRequestHandler.handle(n)];case 1:return r=i.sent().response,[4,c(r)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),new Error("CWR: Failed to retrieve Cognito identity: ".concat(o));case 4:return[2]}}))}))},this.getOpenIdToken=function(e){return l(t,void 0,void 0,(function(){var t,n,r,o;return f(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=JSON.stringify(e),n=this.getHttpRequest("AWSCognitoIdentityService.GetOpenIdToken",t),[4,this.fetchRequestHandler.handle(n)];case 1:return r=i.sent().response,[4,c(r)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),new Error("CWR: Failed to retrieve Cognito OpenId token: ".concat(o));case 4:return[2]}}))}))},this.getCredentialsForIdentity=function(e){return l(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,l;return f(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),t=JSON.stringify({IdentityId:e}),n=this.getHttpRequest("AWSCognitoIdentityService.GetCredentialsForIdentity",t),[4,this.fetchRequestHandler.handle(n)];case 1:return r=f.sent().response,[4,c(r)];case 2:return o=f.sent().Credentials,i=o.AccessKeyId,a=o.Expiration,s=o.SecretAccessKey,u=o.SessionToken,[2,{accessKeyId:i,secretAccessKey:s,sessionToken:u,expiration:new Date(1e3*a)}];case 3:throw l=f.sent(),new Error("CWR: Failed to retrieve credentials for Cognito identity: ".concat(l));case 4:return[2]}}))}))},this.getHttpRequest=function(e,n){return new o({method:"POST",headers:{"content-type":"application/x-amz-json-1.1","x-amz-target":e},protocol:"https:",hostname:t.hostname,body:n})},this.hostname="cognito-identity.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler};function p(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;Object.create;function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var g=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,b)},b=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())};function m(e){var t,n,r=[];try{for(var o=y(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=g(a),Array.isArray(s))for(var c=0,u=s.length;c<u;c++)r.push("".concat(a,"=").concat(g(s[c])));else{var l=a;(s||"string"==typeof s)&&(l+="=".concat(g(s))),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}for(var w=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return p(this,void 0,void 0,(function(){var t,r,o,a,s,c,u,l,f,d,p,y;return h(this,(function(h){switch(h.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=h.sent(),h.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(a=e.path,e.query&&(s=m(e.query))&&(a+="?".concat(s)),c=e.port,u=e.method,l="".concat(e.protocol,"//").concat(e.hostname).concat(c?":".concat(c):"").concat(a),f="GET"===u||"HEAD"===u?void 0:e.body,d={body:f,headers:new Headers(e.headers),method:u},"undefined"!=typeof AbortController&&(d.signal=n),p=new Request(l,d),y=[fetch(p).then((function(e){var t,n,r=e.headers,o={};try{for(var a=v(r.entries()),s=a.next();!s.done;s=a.next()){var c=s.value;o[c[0]]=c[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i({headers:o,statusCode:e.status,body:t})}}))})),(g=r,void 0===g&&(g=0),new Promise((function(e,t){g&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(g," ms"));e.name="TimeoutError",t(e)}),g)})))],n&&y.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(y)])}var g}))}))},e}(),E={},S=new Array(64),C=0,T="A".charCodeAt(0),x="Z".charCodeAt(0);C+T<=x;C++){var O=String.fromCharCode(C+T);E[O]=C,S[C]=O}for(C=0,T="a".charCodeAt(0),x="z".charCodeAt(0);C+T<=x;C++){O=String.fromCharCode(C+T);var _=C+26;E[O]=_,S[_]=O}for(C=0;C<10;C++){E[C.toString(10)]=C+52;O=C.toString(10),_=C+52;E[O]=_,S[_]=O}E["+"]=62,S[62]="+",E["/"]=63,S[63]="/";var P,A,k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},R=function(e){var t=this;this.assumeRoleWithWebIdentity=function(e){return I(t,void 0,void 0,(function(){var t,n,r,i,a,s;return L(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),t=k(k({},e),{Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),n=new URLSearchParams(Object.entries(t)).toString(),r=new o({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",host:this.hostname},protocol:"https:",hostname:this.hostname,body:n}),[4,this.fetchRequestHandler.handle(r)];case 1:return i=c.sent().response,[4,u(i)];case 2:return[2,{accessKeyId:(a=c.sent()).split("<AccessKeyId>")[1].split("</AccessKeyId>")[0],secretAccessKey:a.split("<SecretAccessKey>")[1].split("</SecretAccessKey>")[0],sessionToken:a.split("<SessionToken>")[1].split("</SessionToken>")[0],expiration:new Date(a.split("<Expiration>")[1].split("</Expiration>")[0])}];case 3:throw s=c.sent(),new Error("CWR: Failed to retrieve credentials from STS: ".concat(s));case 4:return[2]}}))}))},this.hostname="sts.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler},j="cwr_c",M="cwr_s",q="cwr_u",D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},D.apply(this,arguments)},H=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},B=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N=function(){function e(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return H(t,void 0,void 0,(function(){return B(this,(function(e){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]}))}))},this.AnonymousCredentialsProvider=function(){return H(t,void 0,void 0,(function(){var e=this;return B(this,(function(t){return[2,new Promise((function(t,n){if(e.renewCredentials())return n();t(e.credentials)}))]}))}))},this.AnonymousStorageCredentialsProvider=function(){return H(t,void 0,void 0,(function(){var e=this;return B(this,(function(t){return[2,new Promise((function(t,n){var r;try{r=JSON.parse(localStorage.getItem(j))}catch(e){return n()}if(e.credentials=D(D({},r),{expiration:new Date(r.expiration)}),e.renewCredentials())return n();e.credentials=r,t(r)}))]}))}))},this.AnonymousCognitoCredentialsProvider=function(){return H(t,void 0,void 0,(function(){var e=this;return B(this,(function(t){return[2,this.cognitoIdentityClient.getId({IdentityPoolId:this.config.identityPoolId}).then((function(t){return e.cognitoIdentityClient.getOpenIdToken(t)})).then((function(t){return e.stsClient.assumeRoleWithWebIdentity({RoleArn:e.config.guestRoleArn,RoleSessionName:"cwr",WebIdentityToken:t.Token})})).then((function(t){e.credentials=t;try{localStorage.setItem(j,JSON.stringify(t))}catch(e){}return t}))]}))}))};var n=e.identityPoolId.split(":")[0];this.config=e,this.stsClient=new R({fetchRequestHandler:new w,region:n}),this.cognitoIdentityClient=new d({fetchRequestHandler:new w,region:n})}return e.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-3e4);return new Date>e},e}(),F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},z=function(){function e(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return F(t,void 0,void 0,(function(){return U(this,(function(e){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]}))}))},this.AnonymousCredentialsProvider=function(){return F(t,void 0,void 0,(function(){var e=this;return U(this,(function(t){return[2,new Promise((function(t,n){if(e.renewCredentials())return n();t(e.credentials)}))]}))}))},this.AnonymousStorageCredentialsProvider=function(){return F(t,void 0,void 0,(function(){var e=this;return U(this,(function(t){return[2,new Promise((function(t,n){var r;try{r=JSON.parse(localStorage.getItem(j))}catch(e){n()}if(r.expiration=new Date(r.expiration),e.credentials=r,e.renewCredentials())return n();e.credentials=r,t(r)}))]}))}))},this.AnonymousCognitoCredentialsProvider=function(){return F(t,void 0,void 0,(function(){var e=this;return U(this,(function(t){var n;return n={client:this.cognitoIdentityClient,identityPoolId:this.config.identityPoolId},[2,function(){return n.client.getCredentialsForIdentity(n.identityPoolId)}().then((function(t){e.credentials=t;try{localStorage.setItem(j,JSON.stringify(t))}catch(e){}return t}))]}))}))};var n=e.identityPoolId.split(":")[0];this.config=e,this.cognitoIdentityClient=new d({fetchRequestHandler:new w,region:n})}return e.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-3e4);return new Date>e},e}(),V="com.amazon.rum",W="".concat(V,".http_event"),X="".concat(V,".xray_trace_event"),G="".concat(V,".largest_contentful_paint_event"),K="".concat(V,".first_input_delay_event"),Z="".concat(V,".cumulative_layout_shift_event"),J="".concat(V,".performance_navigation_event"),Y="".concat(V,".performance_resource_event"),$="".concat(V,".dom_event"),Q="".concat(V,".js_error_event"),ee="".concat(V,".page_view_event"),te=("".concat(V,".session_start_event"),function(){function e(t){this.enabled=!0,this.pluginId=e.generatePluginId(t)}return e.generatePluginId=function(t){return"".concat(e.idPrefix,".").concat(t)},e.prototype.load=function(e){var t;this.context=e,null===(t=this.onload)||void 0===t||t.call(this)},e.prototype.getPluginId=function(){return this.pluginId},e.idPrefix="com.amazonaws.rum",e}()),ne=function(){function e(e){this.context=e,this.plugins=new Map}return e.prototype.addPlugin=function(e){var t=e.getPluginId();if(this.hasPlugin(t))throw new Error('Plugin "'.concat(t,'" already defined in the PluginManager'));this.plugins.set(t,e),e.load(this.context)},e.prototype.updatePlugin=function(e,t){var n,r=this.getPlugin(e);null===(n=null==r?void 0:r.update)||void 0===n||n.call(r,t)},e.prototype.enable=function(){this.plugins.forEach((function(e){return e.enable()}))},e.prototype.disable=function(){this.plugins.forEach((function(e){return e.disable()}))},e.prototype.hasPlugin=function(e){return Boolean(this.getPlugin(e))},e.prototype.record=function(e,t){var n=this.getPlugin(e);if(!((null==n?void 0:n.record)instanceof Function))throw new Error("AWS RUM Client record: Invalid plugin ID");n.record(t)},e.prototype.getPlugin=function(e){var t;return null!==(t=this.plugins.get(e))&&void 0!==t?t:this.plugins.get(te.generatePluginId(e))},e}(),re=(P=function(e,t){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},P(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)},ie="dom-event",ae={interactionId:function(){return""},enableMutationObserver:!1,events:[]},se=function(e){function t(t){var n=e.call(this,ie)||this;return n.enabled=!1,n.eventListenerMap=new Map,n.config=oe(oe({},ae),t),n}return re(t,e),t.getElementInfo=function(e){var t={name:"UNKNOWN"};return e.target instanceof Node&&(t.name=e.target.nodeName),e.target instanceof Element&&e.target.id&&(t.id=e.target.id),t},t.prototype.enable=function(){var e=this;"complete"===document.readyState?this.enabled||(this.addListeners(),this.config.enableMutationObserver&&this.observeDOMMutation(),this.enabled=!0):window.addEventListener("load",(function(){return e.enable()}))},t.prototype.disable=function(){this.enabled&&(this.removeListeners(),this.observer&&this.observer.disconnect(),this.enabled=!1)},t.prototype.update=function(e){var t=this;e.forEach((function(e){t.addEventHandler(e),t.config.events.push(e)}))},t.prototype.onload=function(){this.enable()},t.prototype.removeListeners=function(){var e=this;this.config.events.forEach((function(t){return e.removeEventHandler(t)}))},t.prototype.addListeners=function(){var e=this;this.config.events.forEach((function(t){return e.addEventHandler(t)}))},t.prototype.getEventListener=function(e){var n=this;return function(r){var o,i=t.getElementInfo(r),a=n.config.interactionId(r),s=oe(oe(oe({version:"1.1.0",event:r.type,element:i.name},i.id?{elementId:i.id}:{}),a?{interactionId:a}:{}),e?{cssLocator:e}:{});(null===(o=n.context)||void 0===o?void 0:o.record)&&n.context.record($,s)}},t.prototype.addEventHandler=function(e){var t=e.event,n=this.getEventListener(e.cssLocator),r=[],o=this.eventListenerMap.has(e)?this.eventListenerMap.get(e):[];if(e.cssLocator)document.querySelectorAll(e.cssLocator).forEach((function(e){r.push(e)}));else if(e.elementId){var i=document.getElementById(e.elementId);i&&r.push(i)}else e.element&&r.push(e.element);r.forEach((function(e){e.addEventListener(t,n),o.push({element:e,eventListener:n})})),this.eventListenerMap.set(e,o)},t.prototype.removeEventHandler=function(e){var t=this.eventListenerMap.get(e);t&&(t.forEach((function(t){var n=t.element,r=t.eventListener;n.removeEventListener(e.event,r)})),this.eventListenerMap.delete(e))},t.prototype.observeDOMMutation=function(){var e=this;this.observer=new MutationObserver((function(){e.removeListeners(),e.addListeners()})),this.observer.observe(document,{childList:!0,subtree:!0})},t}(te),ce=function(e){return e!==Object(e)&&null!=e},ue=function(t,n){var r=function(e){var t={version:"1.0.0",type:"undefined",message:"undefined"};return void 0!==e.type&&(t.type=e.type),void 0!==e.message&&(t.message=e.message),void 0!==e.filename&&(t.filename=e.filename),void 0!==e.lineno&&(t.lineno=e.lineno),void 0!==e.colno&&(t.colno=e.colno),t}(t),o=t.error;return!function(t){var n=e(t);return("object"===n||"function"===n)&&!!t}(o)?ce(o)&&function(e,t){"unhandledrejection"!==e.type&&(e.type=t.toString()),e.message=t.toString()}(r,o):function(e,t,n){t.name&&(e.type=t.name),t.message&&(e.message=t.message),t.fileName&&(e.filename=t.fileName),t.lineNumber&&(e.lineno=t.lineNumber),t.columnNumber&&(e.colno=t.columnNumber),n&&t.stack&&(e.stack=t.stack.length>n?t.stack.substring(0,n)+"...":t.stack)}(r,o,n),r},le=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fe.apply(this,arguments)},de="js-error",pe={stackTraceLength:200,ignore:function(){return!1}},he=function(e){function t(t){var n=e.call(this,de)||this;return n.eventHandler=function(e){n.config.ignore(e)||n.recordJsErrorEvent(e)},n.promiseRejectEventHandler=function(e){n.config.ignore(e)||n.recordJsErrorEvent({type:e.type,error:e.reason})},n.config=fe(fe({},pe),t),n}return le(t,e),t.prototype.enable=function(){this.enabled||(this.addEventHandler(),this.enabled=!0)},t.prototype.disable=function(){this.enabled&&(this.removeEventHandler(),this.enabled=!1)},t.prototype.record=function(e){e instanceof ErrorEvent?this.recordJsErrorEvent(e):this.recordJsErrorEvent({type:"error",error:e})},t.prototype.onload=function(){this.addEventHandler()},t.prototype.recordJsErrorEvent=function(e){var t;null===(t=this.context)||void 0===t||t.record(Q,ue(e,this.config.stackTraceLength))},t.prototype.addEventHandler=function(){window.addEventListener("error",this.eventHandler),window.addEventListener("unhandledrejection",this.promiseRejectEventHandler)},t.prototype.removeEventHandler=function(){window.removeEventListener("error",this.eventHandler),window.removeEventListener("unhandledrejection",this.promiseRejectEventHandler)},t}(te),ve=function(e,t,n,r,o){var i=e+"=";i+=t||"",void 0!==o?i+="; Expires=".concat(o.toUTCString()):void 0!==r&&(i+="; Expires=".concat(ye(r).toUTCString())),i+="; Domain=".concat(n.domain),i+="; Path=".concat(n.path),i+="; SameSite=".concat(n.sameSite),i+=n.secure?"; Secure":"",document.cookie=i},ye=function(e){return new Date((new Date).getTime()+1e3*e)},ge=function(e){for(var t=0,n=document.cookie.split("; ");t<n.length;t++){var r=n[t].split("=");if(r[0]===e)return r[1]}return""},be=new Uint8Array(16);function me(){if(!A&&!(A="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return A(be)}var we=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ee=function(e){return"string"==typeof e&&we.test(e)},Se=[],Ce=0;Ce<256;++Ce)Se.push((Ce+256).toString(16).substr(1));var Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]).toLowerCase();if(!Ee(n))throw TypeError("Stringified UUID is invalid");return n};for(var xe=function(e,t,n){var r=(e=e||{}).random||(e.rng||me)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Te(r)},Oe=n(238),_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_e.apply(this,arguments)},Pe="00000000-0000-0000-0000-000000000000",Ae="unknown",ke=function(){function e(e,t,n,r){this.appMonitorDetails=e,this.config=t,this.record=n,this.pageManager=r,this.session={sessionId:Pe,record:this.sample(),eventCount:0},this.initializeUser(),this.collectAttributes(),this.addSessionAttributes(this.config.sessionAttributes),this.getSessionFromCookie()}return e.prototype.getSession=function(){return this.session.sessionId===Pe||this.useCookies()?(this.session.sessionId===Pe&&this.useCookies()||this.session.sessionId!==Pe&&new Date>this.sessionExpiry)&&this.createSession():this.session={sessionId:Pe,record:this.sample(),eventCount:0,page:this.session.page},this.session},e.prototype.getAttributes=function(){return this.attributes},e.prototype.addSessionAttributes=function(e){this.attributes=_e(_e({},e),this.attributes)},e.prototype.getUserId=function(){return this.useCookies()?this.userId:Pe},e.prototype.incrementSessionEventCount=function(){this.session.eventCount++,this.renewSession()},e.prototype.initializeUser=function(){var e="";this.userExpiry=new Date,this.userExpiry.setDate(this.userExpiry.getDate()+this.config.userIdRetentionDays),this.config.userIdRetentionDays<=0?this.userId="00000000-0000-0000-0000-000000000000":this.useCookies()?(e=this.getUserIdCookie(),this.userId=e||xe(),this.createOrRenewUserCookie(e,this.userExpiry)):this.userId=xe()},e.prototype.createOrRenewSessionCookie=function(e,t){btoa&&ve(this.sessionCookieName(),btoa(JSON.stringify(e)),this.config.cookieAttributes,void 0,t)},e.prototype.createOrRenewUserCookie=function(e,t){ve(q,e,this.config.cookieAttributes,void 0,t)},e.prototype.getUserIdCookie=function(){return ge(q)},e.prototype.getSessionFromCookie=function(){if(this.useCookies()){var e=ge(this.sessionCookieName());if(e&&atob)try{this.session=JSON.parse(atob(e)),this.pageManager.resumeSession(this.session.page.pageId,this.session.page.interaction)}catch(e){}}},e.prototype.storeSessionAsCookie=function(){this.useCookies()&&this.config.userIdRetentionDays>0&&this.createOrRenewUserCookie(this.userId,this.userExpiry),this.useCookies()&&this.createOrRenewSessionCookie(this.session,this.sessionExpiry)},e.prototype.createSession=function(){this.session={sessionId:xe(),record:this.sample(),eventCount:0},this.session.page=this.pageManager.getPage(),this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.storeSessionAsCookie(),this.record(this.session,"com.amazon.rum.session_start_event",{version:"1.0.0"})},e.prototype.renewSession=function(){this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.session.page=this.pageManager.getPage(),this.storeSessionAsCookie()},e.prototype.collectAttributes=function(){var e=new Oe.UAParser(navigator.userAgent).getResult();this.attributes={browserLanguage:navigator.language,browserName:e.browser.name?e.browser.name:Ae,browserVersion:e.browser.version?e.browser.version:Ae,osName:e.os.name?e.os.name:Ae,osVersion:e.os.version?e.os.version:Ae,deviceType:e.device.type?e.device.type:"desktop",platformType:"web",domain:window.location.hostname}},e.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},e.prototype.sample=function(){return Math.random()<this.config.sessionSampleRate},e.prototype.sessionCookieName=function(){return this.config.cookieAttributes.unique?"".concat(M,"_").concat(this.appMonitorDetails.id):M},e}(),Ie=n(372),Le=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enable=t.patch.bind(t,!0),t.disable=t.patch.bind(t,!1),t.enabled=!1,t}return Le(t,e),t.prototype.patchAll=function(){for(var e=Ie.wrap.bind(Ie),t=0,n=this.patches;t<n.length;t++){var r=n[t];e(r.nodule,r.name,r.wrapper())}},t.prototype.unpatchAll=function(){for(var e=Ie.unwrap.bind(Ie),t=0,n=this.patches;t<n.length;t++){var r=n[t];e(r.nodule,r.name)}},t.prototype.patch=function(e){void 0===e&&(e=!0),this.enabled!==e&&(this.enabled=e,e?this.patchAll():this.unpatchAll())},t}(te),je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(e){function t(t,n,r){var o=e.call(this,"virtual-page-load-timer")||this;return o.sendWrapper=function(){var e=o;return function(t){return function(){return e.recordXhr(this),this.addEventListener("loadend",e.endTracking),t.apply(this,arguments)}}},o.endTracking=function(e){var t=Date.now(),n=e.target;n.removeEventListener("loadend",o.endTracking),o.removeXhr(n,t)},o.fetch=function(e,t,n){return e.apply(t,n).catch((function(e){throw e})).finally(o.decrementFetchCounter)},o.fetchWrapper=function(){var e=o;return function(t){return function(n,r){return e.fetchCounter+=1,e.fetch(t,this,arguments)}}},o.decrementFetchCounter=function(){o.isPageLoaded||(o.latestEndTime=Date.now()),o.fetchCounter-=1},o.checkLoadStatus=function(){0===o.ongoingRequests.size&&0===o.fetchCounter&&(clearInterval(o.periodicCheckerId),clearTimeout(o.timeoutCheckerId),o.domMutationObserver.disconnect(),o.recordRouteChangeNavigationEvent(o.pageManager.getPage()),o.periodicCheckerId=void 0,o.timeoutCheckerId=void 0,o.isPageLoaded=!0)},o.declareTimeout=function(){clearInterval(o.periodicCheckerId),o.periodicCheckerId=void 0,o.timeoutCheckerId=void 0,o.domMutationObserver.disconnect(),o.isPageLoaded=!0},o.resetInterval=function(){o.latestEndTime=Date.now(),clearInterval(o.periodicCheckerId),o.periodicCheckerId=setInterval(o.checkLoadStatus,o.config.routeChangeComplete)},o.moveItemsFromBuffer=function(e){o.ongoingRequests.add(e)},o.updateLatestInteractionTime=function(e){o.latestInteractionTime=Date.now()},o.periodicCheckerId=void 0,o.timeoutCheckerId=void 0,o.domMutationObserver=new MutationObserver(o.resetInterval),o.ongoingRequests=new Set,o.requestBuffer=new Set,o.fetchCounter=0,o.isPageLoaded=!0,o.latestEndTime=0,o.latestInteractionTime=0,o.config=n,o.pageManager=t,o.record=r,o.enable(),document.addEventListener("mousedown",o.updateLatestInteractionTime),document.addEventListener("keydown",o.updateLatestInteractionTime),o}return je(t,e),Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),t.prototype.startTiming=function(){this.latestEndTime=Date.now(),this.periodicCheckerId&&clearInterval(this.periodicCheckerId),this.timeoutCheckerId&&clearTimeout(this.timeoutCheckerId),this.domMutationObserver.disconnect(),this.periodicCheckerId=setInterval(this.checkLoadStatus,this.config.routeChangeComplete),this.timeoutCheckerId=setTimeout(this.declareTimeout,this.config.routeChangeTimeout),this.domMutationObserver.observe(document,{subtree:!0,childList:!0,attributes:!1,characterData:!1}),this.isPageLoaded=!1,this.requestBuffer.forEach(this.moveItemsFromBuffer),this.requestBuffer.clear()},t.prototype.recordXhr=function(e){this.pageManager.getPage()&&!1===this.isPageLoaded?this.ongoingRequests.add(e):this.requestBuffer.add(e)},t.prototype.removeXhr=function(e,t){this.pageManager.getPage()&&this.ongoingRequests.has(e)?(this.ongoingRequests.delete(e),this.latestEndTime=t):this.requestBuffer.has(e)&&this.requestBuffer.delete(e)},t.prototype.recordRouteChangeNavigationEvent=function(e){var t={version:"1.0.0",initiatorType:"route_change",navigationType:"navigate",startTime:e.start,duration:this.latestEndTime-e.start};this.record&&this.record(J,t)},t}(Re),qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qe.apply(this,arguments)},De=function(){function t(e,t){this.TIMEOUT=1e3,this.config=e,this.record=t,this.page=void 0,this.resumed=void 0,this.recordInteraction=!1,this.virtualPageLoadTimer=new Me(this,e,t)}return t.prototype.getPage=function(){return this.page},t.prototype.getAttributes=function(){return this.attributes},t.prototype.resumeSession=function(e,t){this.recordInteraction=!0,this.resumed={pageId:e,interaction:t,start:0}},t.prototype.recordPageView=function(t){var n;if(n="string"==typeof t?t:t.pageId,this.useCookies()&&(this.recordInteraction=!0),!this.page&&this.resumed)this.createResumedPage(n,this.resumed);else if(this.page){if(this.page.pageId===n)return;this.createNextPage(this.page,n)}else this.createLandingPage(n);this.collectAttributes(this.page,"object"===e(t)?t:void 0),this.recordPageViewEvent(this.page)},t.prototype.createResumedPage=function(e,t){this.page={pageId:e,parentPageId:t.pageId,interaction:t.interaction+1,start:Date.now()},this.resumed=void 0},t.prototype.createNextPage=function(e,t){var n=Date.now(),r=this.virtualPageLoadTimer.latestInteractionTime;n-r<=this.TIMEOUT&&(n=r,this.virtualPageLoadTimer.startTiming()),this.page={pageId:t,parentPageId:e.pageId,interaction:e.interaction+1,start:n}},t.prototype.createLandingPage=function(e){this.page={pageId:e,interaction:0,start:Date.now()}},t.prototype.collectAttributes=function(e,t){this.attributes={title:document.title,pageId:e.pageId},this.recordInteraction&&(this.attributes.interaction=e.interaction,void 0!==e.parentPageId&&(this.attributes.parentPageId=e.parentPageId)),(null==t?void 0:t.pageTags)&&(this.attributes.pageTags=t.pageTags),(null==t?void 0:t.pageAttributes)&&(this.attributes=qe(qe({},t.pageAttributes),this.attributes))},t.prototype.createPageViewEvent=function(e){var t={version:"1.0.0",pageId:e.pageId};return this.recordInteraction&&(t.interaction=e.interaction,t.pageInteractionId=e.pageId+"-"+e.interaction,void 0!==e.parentPageId&&(t.parentPageInteractionId=e.parentPageId+"-"+(e.interaction-1))),t},t.prototype.recordPageViewEvent=function(e){this.record(ee,this.createPageViewEvent(e))},t.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},t}(),He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},He.apply(this,arguments)},Be=function(){function e(e,t){var n=this;this.events=[],this.recordPageView=function(e){n.isCurrentUrlAllowed()&&n.pageManager.recordPageView(e)},this.recordEvent=function(e,t){if(n.enabled&&n.isCurrentUrlAllowed()){var r=n.sessionManager.getSession();n.sessionManager.incrementSessionEventCount(),n.canRecord(r)&&n.addRecordToCache(e,t)}},this.getSession=function(){if(n.isCurrentUrlAllowed())return n.sessionManager.getSession()},this.recordSessionInitEvent=function(e,t,r){n.enabled&&(n.sessionManager.incrementSessionEventCount(),n.canRecord(e)&&n.addRecordToCache(t,r))},this.canRecord=function(e){return e.record&&(e.eventCount<=n.config.sessionEventLimit||n.config.sessionEventLimit<=0)},this.addRecordToCache=function(e,t){if(n.enabled){n.events.length===n.config.eventCacheSize&&n.events.shift();var r=He(He(He({},n.sessionManager.getAttributes()),n.pageManager.getAttributes()),{version:"1.0.0"});n.events.push({details:JSON.stringify(t),id:xe(),metadata:JSON.stringify(r),timestamp:new Date,type:e})}},this.appMonitorDetails=e,this.config=t,this.enabled=!0,this.pageManager=new De(t,this.recordEvent),this.sessionManager=new ke(e,t,this.recordSessionInitEvent,this.pageManager)}return e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.hasEvents=function(){return 0!==this.events.length},e.prototype.getEventBatch=function(){var e=[];return 0===this.events.length||(this.events.length<=this.config.batchLimit?(e=this.events,this.events=[]):e=this.events.splice(0,this.config.batchLimit)),e},e.prototype.getAppMonitorDetails=function(){return this.appMonitorDetails},e.prototype.getUserDetails=function(){return{userId:this.sessionManager.getUserId(),sessionId:this.sessionManager.getSession().sessionId}},e.prototype.addSessionAttributes=function(e){this.sessionManager.addSessionAttributes(e)},e.prototype.isCurrentUrlAllowed=function(){var e=document.location.toString(),t=this.config.pagesToExclude.some((function(t){return t.test(e)}));return this.config.pagesToInclude.some((function(t){return t.test(e)}))&&!t},e}(),Ne={},Fe={},Ue=0;Ue<256;Ue++){var ze=Ue.toString(16).toLowerCase();1===ze.length&&(ze="0".concat(ze)),Ne[Ue]=ze,Fe[ze]=Ue}function Ve(e){for(var t="",n=0;n<e.byteLength;n++)t+=Ne[e[n]];return t}var We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},We.apply(this,arguments)};function Xe(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Ge(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function Ke(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;for(var Je={},Ye={},$e=0;$e<256;$e++){var Qe=$e.toString(16).toLowerCase();1===Qe.length&&(Qe="0".concat(Qe)),Je[$e]=Qe,Ye[Qe]=$e}function et(e){for(var t="",n=0;n<e.byteLength;n++)t+=Je[e[n]];return t}var tt,nt=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},rt="X-Amz-Date",ot="X-Amz-Signature",it="X-Amz-Security-Token",at="authorization",st=rt.toLowerCase(),ct=[at,st,"date"],ut=ot.toLowerCase(),lt="x-amz-content-sha256",ft=it.toLowerCase(),dt={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},pt=/^proxy-/,ht=/^sec-/,vt="AWS4-HMAC-SHA256",yt="AWS4-HMAC-SHA256-PAYLOAD",gt="aws4_request",bt={},mt=[],wt=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(gt)},Et=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},St=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Ke(Object.keys(i).sort()),c=s.next();!c.done;c=s.next()){var u=c.value;if(null!=i[u]){var l=u.toLowerCase();(l in dt||(null==t?void 0:t.has(l))||pt.test(l)||ht.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[u].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},Ct=function(e,t){var n=e.headers,r=e.body;return Xe(void 0,void 0,void 0,(function(){var e,o,i,a,s,c,u;return Ge(this,(function(l){switch(l.label){case 0:try{for(e=Ke(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===lt)return[2,n[i]]}catch(e){c={error:e}}finally{try{o&&!o.done&&(u=e.return)&&u.call(e)}finally{if(c)throw c.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=et,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},Tt=function(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return We(We({},r),{headers:We({},t),query:n?xt(n):void 0})},xt=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return We(We({},t),((r={})[n]=Array.isArray(o)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],Ze(o),!1):o,r))}),{})},Ot=function(e){var t,n;e="function"==typeof e.clone?e.clone():Tt(e);try{for(var r=Ke(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;ct.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},_t=function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e},Pt=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=nt(r),this.credentialProvider=nt(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Xe(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,l,f,d,p,h,v,y,g,b,m,w,E,S,C,T,x;return Ge(this,(function(O){switch(O.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,c=t.signableHeaders,u=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=O.sent(),this.validateResolvedCredentials(f),null==u?[3,2]:(p=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=O.sent(),O.label=4;case 4:return d=p,h=At(r),v=h.longDate,y=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=wt(y,d,null!=l?l:this.service),b=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():Tt(e),a=i.headers,s=i.query,c=void 0===s?{}:s;try{for(var u=Ke(Object.keys(a)),l=u.next();!l.done;l=u.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(c[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return We(We({},e),{headers:a,query:c})}(Ot(e),{unhoistableHeaders:s}),f.sessionToken&&(b.query[it]=f.sessionToken),b.query["X-Amz-Algorithm"]=vt,b.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(g),b.query["X-Amz-Date"]=v,b.query["X-Amz-Expires"]=i.toString(10),m=St(b,a,c),b.query["X-Amz-SignedHeaders"]=kt(m),w=b.query,E=ot,S=this.getSignature,C=[v,g,this.getSigningKey(f,d,y,l)],T=this.createCanonicalRequest,x=[b,m],[4,Ct(e,this.sha256)]);case 5:return[4,S.apply(this,C.concat([T.apply(this,x.concat([O.sent()]))]))];case 6:return w[E]=O.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return Xe(this,void 0,void 0,(function(){return Ge(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,c=t.signingService;return Xe(this,void 0,void 0,(function(){var e,t,o,u,l,f,d,p,h,v,y;return Ge(this,(function(g){switch(g.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,o=At(i),u=o.shortDate,l=o.longDate,f=wt(u,e,null!=c?c:this.service),[4,Ct({headers:{},body:r},this.sha256)];case 4:return d=g.sent(),(p=new this.sha256).update(n),v=et,[4,p.digest()];case 5:return h=v.apply(void 0,[g.sent()]),y=[yt,l,f,a,h,d].join("\n"),[2,this.signString(y,{signingDate:i,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return Xe(this,void 0,void 0,(function(){var t,n,r,s,c,u,l,f;return Ge(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=At(o).shortDate,l=(u=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(c=new(l.apply(u,[void 0,d.sent()]))).update(e),f=et,[4,c.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,c=n.signingService;return Xe(this,void 0,void 0,(function(){var t,n,r,u,l,f,d,p,h,v,y;return Ge(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,u=Ot(e),l=At(o),f=l.longDate,d=l.shortDate,p=wt(d,n,null!=c?c:this.service),u.headers[st]=f,t.sessionToken&&(u.headers[ft]=t.sessionToken),[4,Ct(u,this.sha256)];case 5:return h=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Ke(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(lt,u.headers)&&this.applyChecksum&&(u.headers[lt]=h),v=St(u,a,i),[4,this.getSignature(f,p,this.getSigningKey(t,n,d,c),this.createCanonicalRequest(u,v,h))];case 6:return y=g.sent(),u.headers[at]="".concat(vt," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(kt(v),", ")+"Signature=".concat(y),[2,u]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===ut)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(g(e),"=").concat(g(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(g(e),"=").concat(g(n))])}),[]).join("&"))};try{for(var c=Ke(Object.keys(o).sort()),u=c.next();!u.done;u=c.next())s(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Xe(this,void 0,void 0,(function(){var r,o;return Ge(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(vt,"\n").concat(e,"\n").concat(t,"\n").concat(et(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=Ke(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&("."!==s&&(".."===s?o.pop():o.push(s)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var c="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Xe(this,void 0,void 0,(function(){var o,i,a,s,c;return Ge(this,(function(u){switch(u.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=u.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,u.sent()]))).update(o),c=et,[4,i.digest()];case 3:return[2,c.apply(void 0,[u.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Xe(void 0,void 0,void 0,(function(){var i,a,s,c,u,l,f,d,p;return Ge(this,(function(h){switch(h.label){case 0:return[4,Et(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(et(i),":").concat(t.sessionToken))in bt)return[2,bt[a]];for(mt.push(a);mt.length>50;)delete bt[mt.shift()];s="AWS4".concat(t.secretAccessKey),h.label=2;case 2:h.trys.push([2,7,8,9]),c=Ke([n,r,o,gt]),u=c.next(),h.label=3;case 3:return u.done?[3,6]:(l=u.value,[4,Et(e,s,l)]);case 4:s=h.sent(),h.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return f=h.sent(),d={error:f},[3,9];case 8:try{u&&!u.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}return[7];case 9:return[2,bt[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),At=function(e){var t,n=(t=e,_t(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},kt=function(e){return Object.keys(e).sort().join(";")},It=n(938),Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lt.apply(this,arguments)},Rt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},jt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Mt={expiresIn:60},qt=function(e){var t=this;this.sendFetch=function(e){return Rt(t,void 0,void 0,(function(){var t,n;return jt(this,(function(r){switch(r.label){case 0:return[4,this.getHttpRequestOptions(e,"application/json")];case 1:return t=r.sent(),n=new o(t),this.awsSigV4?[4,this.awsSigV4.sign(n)]:[3,3];case 2:n=r.sent(),r.label=3;case 3:return[2,this.config.fetchRequestHandler.handle(n)]}}))}))},this.sendBeacon=function(e){return Rt(t,void 0,void 0,(function(){var t,n;return jt(this,(function(r){switch(r.label){case 0:return[4,this.getHttpRequestOptions(e,"text/plain;charset=UTF-8")];case 1:return t=r.sent(),n=new o(t),this.awsSigV4?[4,this.awsSigV4.presign(n,Mt)]:[3,3];case 2:n=r.sent(),r.label=3;case 3:return[2,this.config.beaconRequestHandler.handle(n)]}}))}))},this.getHttpRequestOptions=function(e,n){return Rt(t,void 0,void 0,(function(){var t,r,o,i,a,s,c,u;return jt(this,(function(l){switch(l.label){case 0:return t=JSON.stringify(Dt(e)),r=this.config.endpoint.pathname.replace(/\/$/,""),o={method:"POST",protocol:this.config.endpoint.protocol,headers:{"content-type":n,host:this.config.endpoint.host},hostname:this.config.endpoint.hostname,path:"".concat(r,"/appmonitors/").concat(e.AppMonitorDetails.id),body:t},this.awsSigV4?(i=[Lt({},o)],c={},a=[Lt({},o.headers)],u={},s="X-Amz-Content-Sha256",[4,Bt(t)]):[3,2];case 1:return[2,Lt.apply(void 0,i.concat([(c.headers=Lt.apply(void 0,a.concat([(u[s]=l.sent(),u)])),c)]))];case 2:return[2,o]}}))}))},this.config=e,e.credentials&&(this.awsSigV4=new Pt({applyChecksum:!0,credentials:e.credentials,region:e.region,service:"rum",uriEscapePath:!0,sha256:It.Sha256}))},Dt=function(e){var t=[];return e.RumEvents.forEach((function(e){return t.push(Ht(e))})),{BatchId:e.BatchId,AppMonitorDetails:e.AppMonitorDetails,UserDetails:e.UserDetails,RumEvents:t}},Ht=function(e){return{id:e.id,timestamp:Math.round(e.timestamp.getTime()/1e3),type:e.type,metadata:e.metadata,details:e.details}},Bt=function(e){return Rt(void 0,void 0,void 0,(function(){var t,n;return jt(this,(function(r){switch(r.label){case 0:return(t=new It.Sha256).update(e),n=Ve,[4,t.digest()];case 1:return[2,n.apply(void 0,[r.sent()]).toLowerCase()]}}))}))},Nt=function(){function e(){}return e.prototype.handle=function(e){var t=this.sendBeacon(e);return new Promise((function(e,n){t?e({response:new i({statusCode:200})}):n()}))},e.prototype.sendBeacon=function(e){var t=e.path;if(e.query){var n=m(e.query);n&&(t+="?".concat(n))}var r=e.port,o="".concat(e.protocol,"//").concat(e.hostname).concat(r?":".concat(r):"").concat(t);return navigator.sendBeacon(o,e.body)},e}(),Ft=function(){function e(e){var t=void 0===e?{}:e,n=t.fetchFunction,r=t.requestTimeout;this.requestTimeout=r,this.fetchFunction=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var a=e.path;if(e.query){var s=m(e.query);s&&(a+="?".concat(s))}var c=e.port,u=e.method,l="".concat(e.protocol,"//").concat(e.hostname).concat(c?":".concat(c):"").concat(a),f={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(f.signal=n);var d,p=new Request(l,f),h=[this.fetchFunction.apply(window,[p]).then((function(e){for(var t=e.headers,n={},r=0,o=t.entries();r<o.length;r++){var a=o[r];n[a[0]]=a[1]}return void 0!==e.body?{response:new i({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i({headers:n,statusCode:e.status,body:t})}}))})),(d=r,void 0===d&&(d=0),new Promise((function(e,t){d&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(d," ms"));e.name="TimeoutError",t(e)}),d)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),Ut=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},zt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Vt=function(){function e(e,t,n){void 0===n&&(n=function(e){return 2e3*e}),this.isStatusCode2xx=function(e){return e>=200&&e<300},this.handler=e,this.retries=t,this.backoff=n}return e.prototype.handle=function(e){return Ut(this,void 0,void 0,(function(){var t,n,r;return zt(this,(function(o){switch(o.label){case 0:t=this.retries,o.label=1;case 1:0,o.label=2;case 2:return o.trys.push([2,4,,6]),[4,this.handler.handle(e)];case 3:if(n=o.sent(),this.isStatusCode2xx(n.response.statusCode))return[2,n];throw new Error("".concat(n.response.statusCode));case 4:if(r=o.sent(),!t)throw r;return t--,[4,this.sleep(this.backoff(this.retries-t))];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return[2]}}))}))},e.prototype.sleep=function(e){return Ut(this,void 0,void 0,(function(){return zt(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},e}(),Wt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Xt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Gt="CWR: Cannot dispatch; no AWS credentials.",Kt=function(){function e(e,t,n,r){var o=this;this.dispatchFetch=function(){return Wt(o,void 0,void 0,(function(){return Xt(this,(function(e){return this.doRequest()?[2,this.rum.sendFetch(this.createRequest()).catch(this.handleReject)]:[2]}))}))},this.dispatchBeacon=function(){return Wt(o,void 0,void 0,(function(){var e,t=this;return Xt(this,(function(n){return this.doRequest()?(e=this.createRequest(),[2,this.rum.sendBeacon(e).catch((function(){return t.rum.sendFetch(e)}))]):[2]}))}))},this.dispatchFetchFailSilent=function(){return Wt(o,void 0,void 0,(function(){return Xt(this,(function(e){return[2,this.dispatchFetch().catch((function(){}))]}))}))},this.dispatchBeaconFailSilent=function(){return Wt(o,void 0,void 0,(function(){return Xt(this,(function(e){return[2,this.dispatchBeacon().catch((function(){}))]}))}))},this.handleReject=function(e){throw o.disable(),e},this.defaultClientBuilder=function(e,t,n){return new qt({fetchRequestHandler:new Vt(new Ft({fetchFunction:o.config.fetchFunction}),o.config.retries),beaconRequestHandler:new Nt,endpoint:e,region:t,credentials:n})},this.region=e,this.endpoint=t,this.eventCache=n,this.enabled=!0,this.buildClient=r.clientBuilder||this.defaultClientBuilder,this.config=r,this.startDispatchTimer(),r.signing?this.rum={sendFetch:function(){return Promise.reject(new Error(Gt))},sendBeacon:function(){return Promise.reject(new Error(Gt))}}:this.rum=this.buildClient(this.endpoint,this.region,void 0)}return e.prototype.enable=function(){this.enabled=!0,this.startDispatchTimer()},e.prototype.disable=function(){this.stopDispatchTimer(),this.enabled=!1},e.prototype.setAwsCredentials=function(e){this.rum=this.buildClient(this.endpoint,this.region,e),"function"==typeof e&&e()},e.prototype.startDispatchTimer=function(){document.addEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.addEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),this.config.dispatchInterval<=0||this.dispatchTimerId||(this.dispatchTimerId=window.setInterval(this.dispatchFetchFailSilent,this.config.dispatchInterval))},e.prototype.stopDispatchTimer=function(){document.removeEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.removeEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),this.dispatchTimerId&&(window.clearInterval(this.dispatchTimerId),this.dispatchTimerId=void 0)},e.prototype.doRequest=function(){return this.enabled&&this.eventCache.hasEvents()},e.prototype.createRequest=function(){return{BatchId:xe(),AppMonitorDetails:this.eventCache.getAppMonitorDetails(),UserDetails:this.eventCache.getUserDetails(),RumEvents:this.eventCache.getEventBatch()}},e}(),Zt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt="navigation",Yt="load",$t=function(e){function t(){var t=e.call(this,"navigation")||this;return t.eventListener=function(){0===performance.getEntriesByType(Jt).length?t.performanceNavigationEventHandlerTimingLevel1():new PerformanceObserver((function(e){e.getEntries().forEach((function(e){e.entryType===Jt&&t.performanceNavigationEventHandlerTimingLevel2(e)}))})).observe({entryTypes:[Jt]})},t.performanceNavigationEventHandlerTimingLevel1=function(){setTimeout((function(){var e,n=performance.timing,r=n.navigationStart,o={version:"1.0.0",initiatorType:"navigation",startTime:0,unloadEventStart:n.unloadEventStart>0?n.unloadEventStart-r:0,promptForUnload:n.unloadEventEnd-n.unloadEventStart,redirectStart:n.redirectStart>0?n.redirectStart-r:0,redirectTime:n.redirectEnd-n.redirectStart,fetchStart:n.fetchStart>0?n.fetchStart-r:0,domainLookupStart:n.domainLookupStart>0?n.domainLookupStart-r:0,dns:n.domainLookupEnd-n.domainLookupStart,connectStart:n.connectStart>0?n.connectStart-r:0,connect:n.connectEnd-n.connectStart,secureConnectionStart:n.secureConnectionStart>0?n.secureConnectionStart-r:0,tlsTime:n.secureConnectionStart>0?n.connectEnd-n.secureConnectionStart:0,requestStart:n.requestStart>0?n.requestStart-r:0,timeToFirstByte:n.responseStart-n.requestStart,responseStart:n.responseStart>0?n.responseStart-r:0,responseTime:n.responseStart>0?n.responseEnd-n.responseStart:0,domInteractive:n.domInteractive>0?n.domInteractive-r:0,domContentLoadedEventStart:n.domContentLoadedEventStart>0?n.domContentLoadedEventStart-r:0,domContentLoaded:n.domContentLoadedEventEnd-n.domContentLoadedEventStart,domComplete:n.domComplete>0?n.domComplete-r:0,domProcessingTime:n.loadEventStart-n.responseEnd,loadEventStart:n.loadEventStart>0?n.loadEventStart-r:0,loadEventTime:n.loadEventEnd-n.loadEventStart,duration:n.loadEventEnd-n.navigationStart,navigationTimingLevel:1};(null===(e=t.context)||void 0===e?void 0:e.record)&&t.context.record(J,o)}),0)},t.performanceNavigationEventHandlerTimingLevel2=function(e){var n,r={version:"1.0.0",initiatorType:e.initiatorType,navigationType:e.type,startTime:e.startTime,unloadEventStart:e.unloadEventStart,promptForUnload:e.unloadEventEnd-e.unloadEventStart,redirectCount:e.redirectCount,redirectStart:e.redirectStart,redirectTime:e.redirectEnd-e.redirectStart,workerStart:e.workerStart,workerTime:e.workerStart>0?e.fetchStart-e.workerStart:0,fetchStart:e.fetchStart,domainLookupStart:e.domainLookupStart,dns:e.domainLookupEnd-e.domainLookupStart,nextHopProtocol:e.nextHopProtocol,connectStart:e.connectStart,connect:e.connectEnd-e.connectStart,secureConnectionStart:e.secureConnectionStart,tlsTime:e.secureConnectionStart>0?e.connectEnd-e.secureConnectionStart:0,requestStart:e.requestStart,timeToFirstByte:e.responseStart-e.requestStart,responseStart:e.responseStart,responseTime:e.responseStart>0?e.responseEnd-e.responseStart:0,domInteractive:e.domInteractive,domContentLoadedEventStart:e.domContentLoadedEventStart,domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,domComplete:e.domComplete,domProcessingTime:e.loadEventStart-e.responseEnd,loadEventStart:e.loadEventStart,loadEventTime:e.loadEventEnd-e.loadEventStart,duration:e.duration,headerSize:e.transferSize-e.encodedBodySize,transferSize:e.transferSize,compressionRatio:e.encodedBodySize>0?e.decodedBodySize/e.encodedBodySize:0,navigationTimingLevel:2};(null===(n=t.context)||void 0===n?void 0:n.record)&&t.context.record(J,r)},t}return Zt(t,e),t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(Yt,this.eventListener))},t.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.eventListener&&window.removeEventListener(Yt,this.eventListener))},t.prototype.hasTheWindowLoadEventFired=function(){if(window.performance&&window.performance.getEntriesByType(Jt).length){var e=window.performance.getEntriesByType(Jt)[0];return Boolean(e.loadEventEnd)}return!1},t.prototype.onload=function(){if(this.enabled)if(this.hasTheWindowLoadEventFired()){var e=window.performance.getEntriesByType(Jt)[0];this.performanceNavigationEventHandlerTimingLevel2(e)}else window.addEventListener(Yt,this.eventListener)},t}(te);!function(e){e.OTHER="other",e.STYLESHEET="stylesheet",e.DOCUMENT="document",e.SCRIPT="script",e.IMAGE="image",e.FONT="font"}(tt||(tt={}));for(var Qt,en,tn,nn,rn=[{name:tt.STYLESHEET,list:["css","less"]},{name:tt.DOCUMENT,list:["htm","html","ts","doc","docx","pdf","xls","xlsx"]},{name:tt.SCRIPT,list:["js"]},{name:tt.IMAGE,list:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"]},{name:tt.FONT,list:["fnt","fon","otf","ttf","woff"]}],on=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}},an=function(e){var t=e.substring(e.lastIndexOf("/")+1),n=t.substring(t.lastIndexOf(".")+1).split(/[?#]/)[0],r=tt.OTHER;return rn.forEach((function(e){e.list.indexOf(n)>-1&&(r=e.name)})),r},sn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(){return cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cn.apply(this,arguments)},un="resource",ln="load",fn={eventLimit:10,recordAllTypes:[tt.DOCUMENT,tt.SCRIPT],sampleTypes:[tt.STYLESHEET,tt.IMAGE,tt.FONT,tt.OTHER]},dn=function(e){function t(t){var n=e.call(this,"resource")||this;return n.resourceEventListener=function(e){var t=[],r=[],o=0,i=new PerformanceObserver((function(e){e.getEntries().filter((function(e){return e.entryType===un})).forEach((function(e){var o=an(e.name);n.config.recordAllTypes.includes(o)?t.push(e):n.config.sampleTypes.includes(o)&&r.push(e)}))}));i.observe({entryTypes:[un]});var a=performance.getEntriesByType(un);for(void 0!==a&&a.length>0&&a.forEach((function(e){var o=an(e.name);n.config.recordAllTypes.includes(o)?t.push(e):n.config.sampleTypes.includes(o)&&r.push(e)})),on(t);t.length>0&&o<n.config.eventLimit;)n.recordResourceEvent(t.pop()),o++;for(on(r);r.length>0&&o<n.config.eventLimit;)n.recordResourceEvent(r.pop()),o++},n.recordResourceEvent=function(e){var t,r=new URL(e.name);if((r.host!==n.context.config.endpointUrl.host||!/.*\/application\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/events/.test(r.pathname))&&(null===(t=n.context)||void 0===t?void 0:t.record)){var o={version:"1.0.0",initiatorType:e.initiatorType,duration:e.duration,fileType:an(e.name),transferSize:e.transferSize};n.context.config.recordResourceUrl&&(o.targetUrl=e.name),n.context.record(Y,o)}},n.config=cn(cn({},fn),t),n}return sn(t,e),t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(ln,this.resourceEventListener))},t.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.resourceEventListener&&window.removeEventListener(ln,this.resourceEventListener))},t.prototype.onload=function(){window.addEventListener(ln,this.resourceEventListener)},t}(te),pn=-1,hn=function(e){addEventListener("pageshow",(function(t){t.persisted&&(pn=t.timeStamp,e(t))}),!0)},vn=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},yn=function(){var e=vn();return e&&e.activationStart||0},gn=function(e,t){var n=vn(),r="navigate";return pn>=0?r="back-forward-cache":n&&(r=document.prerendering||yn()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},bn=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},mn=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},wn=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},En=-1,Sn=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Cn=function(){mn((function(e){var t=e.timeStamp;En=t}),!0)},Tn=function(){return En<0&&(En=Sn(),Cn(),hn((function(){setTimeout((function(){En=Sn(),Cn()}),0)}))),{get firstHiddenTime(){return En}}},xn=function(e,t){t=t||{};var n,r=[1800,3e3],o=Tn(),i=gn("FCP"),a=function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<o.firstHiddenTime&&(i.value=e.startTime-yn(),i.entries.push(e),n(!0)))}))},s=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName("first-contentful-paint")[0],c=s?null:bn("paint",a);(s||c)&&(n=wn(e,i,r,t.reportAllChanges),s&&a([s]),hn((function(o){i=gn("FCP"),n=wn(e,i,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-o.timeStamp,n(!0)}))}))})))},On=!1,_n=-1,Pn={passive:!0,capture:!0},An=new Date,kn=function(e,t){Qt||(Qt=t,en=e,tn=new Date,Rn(removeEventListener),In())},In=function(){if(en>=0&&en<tn-An){var e={entryType:"first-input",name:Qt.type,target:Qt.target,cancelable:Qt.cancelable,startTime:Qt.timeStamp,processingStart:Qt.timeStamp+en};nn.forEach((function(t){t(e)})),nn=[]}},Ln=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){kn(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,Pn),removeEventListener("pointercancel",r,Pn)};addEventListener("pointerup",n,Pn),addEventListener("pointercancel",r,Pn)}(t,e):kn(t,e)}},Rn=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ln,Pn)}))},jn={},Mn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qn=function(e){function t(){return e.call(this,"web-vitals")||this}return Mn(t,e),t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.configure=function(e){},t.prototype.getWebVitalData=function(e,t){var n,r={version:"1.0.0",value:e.value};null===(n=this.context)||void 0===n||n.record(t,r)},t.prototype.onload=function(){var e=this;!function(e,t){t=t||{};var n,r=[2500,4e3],o=Tn(),i=gn("LCP"),a=function(e){var t=e[e.length-1];if(t){var r=t.startTime-yn();r<o.firstHiddenTime&&(i.value=r,i.entries=[t],n())}},s=bn("largest-contentful-paint",a);if(s){n=wn(e,i,r,t.reportAllChanges);var c=function(){jn[i.id]||(a(s.takeRecords()),s.disconnect(),jn[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),mn(c,!0),hn((function(o){i=gn("LCP"),n=wn(e,i,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-o.timeStamp,jn[i.id]=!0,n(!0)}))}))}))}}((function(t){return e.getWebVitalData(t,G)})),function(e,t){t=t||{};var n,r=[100,300],o=Tn(),i=gn("FID"),a=function(e){e.startTime<o.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=function(e){e.forEach(a)},c=bn("first-input",s);n=wn(e,i,r,t.reportAllChanges),c&&mn((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&hn((function(){var o;i=gn("FID"),n=wn(e,i,r,t.reportAllChanges),nn=[],en=-1,Qt=null,Rn(addEventListener),o=a,nn.push(o),In()}))}((function(t){return e.getWebVitalData(t,K)})),function(e,t){t=t||{};var n=[.1,.25];On||(xn((function(e){_n=e.value})),On=!0);var r,o=function(t){_n>-1&&e(t)},i=gn("CLS",0),a=0,s=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,s.push(e)):(a=e.value,s=[e]),a>i.value&&(i.value=a,i.entries=s,r())}}))},u=bn("layout-shift",c);u&&(r=wn(o,i,n,t.reportAllChanges),mn((function(){c(u.takeRecords()),r(!0)})),hn((function(){a=0,_n=-1,i=gn("CLS",0),r=wn(o,i,n,t.reportAllChanges)})))}((function(t){return e.getWebVitalData(t,Z)}))},t}(te),Dn=function(e){if(crypto)return crypto.getRandomValues(e);if(msCrypto)return msCrypto.getRandomValues(e);throw new Error("No crypto library found.")},Hn=[],Bn=0;Bn<256;Bn++)Hn[Bn]=(Bn+256).toString(16).substr(1);var Nn,Fn,Un="X-Amzn-Trace-Id",zn={logicalServiceName:"rum.aws.amazon.com",urlsToInclude:[/.*/],urlsToExclude:[/cognito\-identity\.([^\.]*\.)?amazonaws\.com/,/sts\.([^\.]*\.)?amazonaws\.com/],stackTraceLength:200,recordAllRequests:!1,addXRayTraceIdHeader:!1},Vn=function(e){return 4===Math.floor(e/100)},Wn=function(e){return 5===Math.floor(e/100)},Xn=function(e){return 429===e},Gn=function(e,t){var n=t.urlsToInclude.some((function(t){return t.test(e)})),r=t.urlsToExclude.some((function(t){return t.test(e)}));return n&&!r},Kn=function(){return Date.now()/1e3},Zn=function(e,t,n){var r={version:"1.0.0",name:e,origin:"AWS::RUM::AppMonitor",id:tr(),start_time:t,trace_id:er(),end_time:void 0,subsegments:[],in_progress:!1};return n&&(r.http=n),r},Jn=function(e,t,n){var r={id:tr(),name:e,start_time:t,end_time:void 0,in_progress:!1,namespace:e.endsWith("amazonaws.com")?"aws":"remote"};return n&&(r.http=n),r},Yn=function(e){try{return e.hostname?e.hostname:e.url?new URL(e.url).hostname:new URL(e.toString()).hostname}catch(e){return window.location.hostname}},$n=function(e,t){return"Root="+e+";Parent="+t+";Sampled=1"},Qn=function(e){return e.url?e.url:e.toString()},er=function(){return"1-".concat(nr(),"-").concat(rr())},tr=function(){var e=new Uint8Array(8);return Dn(e),or(e)},nr=function(){return Math.floor(Date.now()/1e3).toString(16)},rr=function(){var e=new Uint8Array(12);return Dn(e),or(e)},or=function(e){for(var t="",n=0;n<e.length;n++)t+=Hn[e[n]];return t},ir=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(e){function t(t){var n=e.call(this,t)||this;return n.name="XMLHttpRequest error",n}return ir(t,e),t}(Error),sr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=function(){return cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cr.apply(this,arguments)},ur=function(e){function t(t){var n=e.call(this,"xhr")||this;return n.addXRayTraceIdHeader=function(){return n.config.addXRayTraceIdHeader},n.isTracingEnabled=function(){return n.context.config.enableXRay},n.isSessionRecorded=function(){var e;return(null===(e=n.context.getSession())||void 0===e?void 0:e.record)||!1},n.handleXhrLoadEvent=function(e){var t=e.target,r=n.xhrMap.get(t);if(r){var o=Kn();r.trace.end_time=o,r.trace.subsegments[0].end_time=o,r.trace.subsegments[0].http.response={status:t.status},Xn(t.status)?(r.trace.subsegments[0].throttle=!0,r.trace.throttle=!0):Vn(t.status)?(r.trace.subsegments[0].error=!0,r.trace.error=!0):Wn(t.status)&&(r.trace.subsegments[0].fault=!0,r.trace.fault=!0);var i=t.getResponseHeader("Content-Length"),a=i?parseInt(i,10):NaN;isNaN(a)||(r.trace.subsegments[0].http.response.content_length=a),n.recordTraceEvent(r.trace),n.recordHttpEventWithResponse(r,t)}},n.handleXhrErrorEvent=function(e){var t=e.target,r=n.xhrMap.get(t),o=t.statusText?t.status.toString()+": "+t.statusText:t.status.toString();if(r){var i=Kn();r.trace.fault=!0,r.trace.end_time=i,r.trace.subsegments[0].end_time=i,r.trace.subsegments[0].fault=!0,r.trace.subsegments[0].cause={exceptions:[{type:"XMLHttpRequest error",message:o}]},n.recordTraceEvent(r.trace),n.recordHttpEventWithError(r,new ar(o))}},n.handleXhrAbortEvent=function(e){var t=e.target,r=n.xhrMap.get(t);n.handleXhrDetailsOnError(r,"XMLHttpRequest abort")},n.handleXhrTimeoutEvent=function(e){var t=e.target,r=n.xhrMap.get(t);n.handleXhrDetailsOnError(r,"XMLHttpRequest timeout")},n.initializeTrace=function(e){var t=Kn();e.trace=Zn(n.config.logicalServiceName,t),e.trace.subsegments.push(Jn(Yn(e.url),t,{request:{method:e.method,url:e.url,traced:!0}}))},n.sendWrapper=function(){var e=n;return function(t){return function(){var n=e.xhrMap.get(this);return n&&(this.addEventListener("load",e.handleXhrLoadEvent),this.addEventListener("error",e.handleXhrErrorEvent),this.addEventListener("abort",e.handleXhrAbortEvent),this.addEventListener("timeout",e.handleXhrTimeoutEvent),e.initializeTrace(n),e.isTracingEnabled()&&e.addXRayTraceIdHeader()&&e.isSessionRecorded()&&this.setRequestHeader(Un,$n(n.trace.trace_id,n.trace.subsegments[0].id))),t.apply(this,arguments)}}},n.openWrapper=function(){var e=n;return function(t){return function(n,r,o){return Gn(r,e.config)&&e.xhrMap.set(this,{url:r,method:n,async:o}),t.apply(this,arguments)}}},n.config=cr(cr({},zn),t),n.xhrMap=new Map,n}return sr(t,e),t.prototype.onload=function(){this.enable()},Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:XMLHttpRequest.prototype,name:"open",wrapper:this.openWrapper}]},enumerable:!1,configurable:!0}),t.prototype.handleXhrDetailsOnError=function(e,t){if(e){var n=Kn();e.trace.end_time=n,e.trace.subsegments[0].end_time=n,e.trace.subsegments[0].error=!0,e.trace.subsegments[0].cause={exceptions:[{type:t}]},this.recordTraceEvent(e.trace),this.recordHttpEventWithError(e,t)}},t.prototype.statusOk=function(e){return e>=200&&e<300},t.prototype.recordHttpEventWithResponse=function(e,t){!this.config.recordAllRequests&&this.statusOk(t.status)||this.context.record(W,{version:"1.0.0",request:{method:e.method,url:e.url},response:{status:t.status,statusText:t.statusText}})},t.prototype.recordHttpEventWithError=function(e,t){var n={version:"1.0.0",request:{method:e.method,url:e.url}};n.error=ue({type:"error",error:t},this.config.stackTraceLength),this.context.record(W,n)},t.prototype.recordTraceEvent=function(e){this.isTracingEnabled()&&this.isSessionRecorded()&&this.context.record(X,e)},t}(Re),lr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=function(){return fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fr.apply(this,arguments)},dr=function(e){function t(t){var n=e.call(this,"fetch")||this;return n.isTracingEnabled=function(){return n.context.config.enableXRay},n.isSessionRecorded=function(){var e;return(null===(e=n.context.getSession())||void 0===e?void 0:e.record)||!1},n.beginTrace=function(e,t,r){var o=Kn(),i=function(e,t,n){var r={request:{}};return r.request.method=(null==t?void 0:t.method)?t.method:"GET",r.request.traced=n,r.request.url=Qn(e),r}(e,t,!0),a=Zn(n.config.logicalServiceName,o),s=Jn(Yn(e),o,i);return a.subsegments.push(s),n.config.addXRayTraceIdHeader&&n.addXRayTraceIdHeader(e,t,r,a),a},n.addXRayTraceIdHeader=function(e,t,n,r){if(e.headers)return o=e.headers,i=r.trace_id,a=r.subsegments[0].id,void o.set(Un,$n(i,a));var o,i,a;t||(t={},[].push.call(n,t)),function(e,t,n){e.headers||(e.headers={}),e.headers[Un]=$n(t,n)}(t,r.trace_id,r.subsegments[0].id)},n.endTrace=function(e,t,r){if(e){var o=Kn();if(e.subsegments[0].end_time=o,e.end_time=o,t){e.subsegments[0].http.response={status:t.status},Xn(t.status)?(e.subsegments[0].throttle=!0,e.throttle=!0):Vn(t.status)?(e.subsegments[0].error=!0,e.error=!0):Wn(t.status)&&(e.subsegments[0].fault=!0,e.fault=!0);var i=t.headers.get("Content-Length"),a=i?parseInt(i,10):NaN;isNaN(a)||(e.subsegments[0].http.response.content_length=a)}r&&(e.fault=!0,e.subsegments[0].fault=!0,r instanceof Object?n.appendErrorCauseFromObject(e.subsegments[0],r):ce(r)&&n.appendErrorCauseFromPrimitive(e.subsegments[0],r.toString())),n.context.record(X,e)}},n.createHttpEvent=function(e,t){var n=e;return{version:"1.0.0",request:{url:Qn(e),method:(null==t?void 0:t.method)?t.method:n.method?n.method:"GET"}}},n.recordHttpEventWithResponse=function(e,t){!n.config.recordAllRequests&&t.ok||(e.response={status:t.status,statusText:t.statusText},n.context.record(W,e))},n.recordHttpEventWithError=function(e,t){e.error=ue({type:"error",error:t},n.config.stackTraceLength),n.context.record(W,e)},n.fetch=function(e,t,r,o,i){var a,s=n.createHttpEvent(o,i);return Gn(Qn(o),n.config)?(n.isTracingEnabled()&&n.isSessionRecorded()&&(a=n.beginTrace(o,i,r)),e.apply(t,r).then((function(e){return n.endTrace(a,e,void 0),n.recordHttpEventWithResponse(s,e),e})).catch((function(e){throw n.endTrace(a,void 0,e),n.recordHttpEventWithError(s,e),e}))):e.apply(t,r)},n.fetchWrapper=function(){var e=n;return function(t){return function(n,r){return e.fetch(t,this,arguments,n,r)}}},n.config=fr(fr({},zn),t),n}return lr(t,e),Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),t.prototype.onload=function(){this.enable()},t.prototype.appendErrorCauseFromPrimitive=function(e,t){e.cause={exceptions:[{type:t}]}},t.prototype.appendErrorCauseFromObject=function(e,t){e.cause={exceptions:[{type:t.name,message:t.message}]}},t}(Re),pr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hr=function(e){function t(){var t=e.call(this,"page-view")||this;return t.pushState=function(){var e=t;return function(t){return function(n,r,o){var i=t.apply(this,arguments);return e.recordPageView(),i}}},t.replaceState=function(){var e=t;return function(t){return function(n,r,o){var i=t.apply(this,arguments);return e.recordPageView(),i}}},t.popstateListener=function(e){t.recordPageView()},t.recordPageView=function(){t.context.recordPageView(t.createIdForCurrentPage())},t.enable(),t}return pr(t,e),t.prototype.onload=function(){this.addListener(),this.recordPageView()},Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:History.prototype,name:"pushState",wrapper:this.pushState},{nodule:History.prototype,name:"replaceState",wrapper:this.replaceState}]},enumerable:!1,configurable:!0}),t.prototype.addListener=function(){window.addEventListener("popstate",this.popstateListener)},t.prototype.createIdForCurrentPage=function(){var e=window.location.pathname,t=window.location.hash;switch(this.context.config.pageIdFormat){case Fn.PathAndHash:return e&&t?e+t:e||(t||"");case Fn.Hash:return t||"";case Fn.Path:default:return e||""}},t}(Re),vr=function(){return vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vr.apply(this,arguments)},yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},gr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},br="us-west-2",mr="https://dataplane.rum.".concat(br,".amazonaws.com");!function(e){e.Errors="errors",e.Performance="performance",e.Interaction="interaction",e.Http="http"}(Nn||(Nn={})),function(e){e.Path="PATH",e.Hash="HASH",e.PathAndHash="PATH_AND_HASH"}(Fn||(Fn={}));var wr=function(){function e(e,t,n,r){void 0===r&&(r={});var o=r.cookieAttributes,i=yr(r,["cookieAttributes"]);void 0===n&&(n="us-west-2");var a=vr(vr({},{unique:!1,domain:window.location.hostname,path:"/",sameSite:"Strict",secure:!0}),o);this.config=vr(vr({fetchFunction:fetch},function(e){return{allowCookies:!1,batchLimit:100,cookieAttributes:e,disableAutoPageView:!1,dispatchInterval:5e3,enableRumClient:!0,enableXRay:!1,endpoint:mr,endpointUrl:new URL(mr),eventCacheSize:200,eventPluginsToLoad:[],pageIdFormat:Fn.Path,pagesToExclude:[],pagesToInclude:[/.*/],signing:!0,recordResourceUrl:!0,retries:2,routeChangeComplete:100,routeChangeTimeout:1e4,sessionAttributes:{},sessionEventLimit:200,sessionLengthSeconds:1800,sessionSampleRate:1,telemetries:[],useBeacon:!0,userIdRetentionDays:30}}(a)),i),this.config.endpoint=this.getDataPlaneEndpoint(n,i),this.config.endpointUrl=new URL(this.config.endpoint),this.eventCache=this.initEventCache(e,t),this.dispatchManager=this.initDispatch(n),this.pluginManager=this.initPluginManager(e,t),this.config.enableRumClient?this.enable():this.disable()}return e.prototype.setAwsCredentials=function(e){this.dispatchManager.setAwsCredentials(e)},e.prototype.addSessionAttributes=function(e){this.eventCache.addSessionAttributes(e)},e.prototype.addPlugin=function(e){this.pluginManager.addPlugin(e)},e.prototype.dispatch=function(){this.dispatchManager.dispatchFetch()},e.prototype.dispatchBeacon=function(){this.dispatchManager.dispatchBeacon()},e.prototype.enable=function(){this.eventCache.enable(),this.pluginManager.enable(),this.dispatchManager.enable()},e.prototype.disable=function(){this.dispatchManager.disable(),this.pluginManager.disable(),this.eventCache.disable()},e.prototype.allowCookies=function(e){this.config.allowCookies=e},e.prototype.recordPageView=function(e){this.eventCache.recordPageView(e)},e.prototype.recordError=function(e){this.pluginManager.record(de,e)},e.prototype.registerDomEvents=function(e){this.pluginManager.updatePlugin(ie,e)},e.prototype.recordEvent=function(e,t){this.eventCache.recordEvent(e,t)},e.prototype.initEventCache=function(e,t){return new Be({id:e,version:t},this.config)},e.prototype.initDispatch=function(e){var t=new Kt(e,this.config.endpointUrl,this.eventCache,this.config);return this.config.identityPoolId&&this.config.guestRoleArn?t.setAwsCredentials(new N(this.config).ChainAnonymousCredentialsProvider):this.config.identityPoolId&&t.setAwsCredentials(new z(this.config).ChainAnonymousCredentialsProvider),t},e.prototype.initPluginManager=function(e,t){var n=this.constructBuiltinPlugins(),r=gr(gr([],n,!0),this.config.eventPluginsToLoad,!0),o={applicationId:e,applicationVersion:t,config:this.config,record:this.eventCache.recordEvent,recordPageView:this.eventCache.recordPageView,getSession:this.eventCache.getSession},i=new ne(o);return this.config.disableAutoPageView||i.addPlugin(new hr),r.forEach((function(e){i.addPlugin(e)})),i},e.prototype.constructBuiltinPlugins=function(){var e=[],t=this.telemetryFunctor();return this.config.telemetries.forEach((function(n){"string"==typeof n&&t[n.toLowerCase()]?e=gr(gr([],e,!0),t[n.toLowerCase()]({}),!0):Array.isArray(n)&&t[n[0].toLowerCase()]&&(e=gr(gr([],e,!0),t[n[0].toLowerCase()](n[1]),!0))})),e},e.prototype.getDataPlaneEndpoint=function(e,t){return t.endpoint?t.endpoint:mr.replace(br,e)},e.prototype.telemetryFunctor=function(){var e;return(e={})[Nn.Errors]=function(e){return[new he(e)]},e[Nn.Performance]=function(e){return[new $t,new dn(e),new qn]},e[Nn.Interaction]=function(e){return[new se(e)]},e[Nn.Http]=function(e){return[new ur(e),new dr(e)]},e},e}(),Er=function(){return Er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Er.apply(this,arguments)},Sr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Cr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Tr=function(e){return Sr(void 0,void 0,void 0,(function(){var t,n;return Cr(this,(function(r){switch(r.label){case 0:return t={},n={},void 0===e.u?[3,2]:[4,(o=e.u,Sr(void 0,void 0,void 0,(function(){var e;return Cr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch(o,{mode:"cors",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:throw e=t.sent(),new Error("CWR: Failed to load remote config: ".concat(e));case 4:return[2]}}))})))];case 1:return n=r.sent(),t=Er(Er({},n.clientConfig),e.c),[3,3];case 2:void 0!==e.c&&(t=e.c),r.label=3;case 3:return[2,t]}var o}))}))},xr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_r=function(){function t(){var t=this;this.commandHandlerMap={setAwsCredentials:function(e){t.orchestration.setAwsCredentials(e)},addSessionAttributes:function(e){t.orchestration.addSessionAttributes(e)},recordPageView:function(e){t.orchestration.recordPageView(e)},recordError:function(e){t.orchestration.recordError(e)},registerDomEvents:function(e){t.orchestration.registerDomEvents(e)},recordEvent:function(n){if("object"!==e(n)||"string"!=typeof n.type||"object"!==e(n.data))throw new Error("IncorrectParametersException");t.orchestration.recordEvent(n.type,n.data)},dispatch:function(){t.orchestration.dispatch()},dispatchBeacon:function(){t.orchestration.dispatchBeacon()},enable:function(){t.orchestration.enable()},disable:function(){t.orchestration.disable()},allowCookies:function(e){if("boolean"!=typeof e)throw new Error("IncorrectParametersException");t.orchestration.allowCookies(e)}}}return t.prototype.init=function(e){return xr(this,void 0,void 0,(function(){var t;return Or(this,(function(n){switch(n.label){case 0:return void 0===e.u?[3,2]:[4,Tr(e)];case 1:return t=n.sent(),e.c=t,this.initCwr(e),[3,3];case 2:this.initCwr(e),n.label=3;case 3:return[2]}}))}))},t.prototype.push=function(e){return xr(this,void 0,void 0,(function(){var t;return Or(this,(function(n){if(!(t=this.commandHandlerMap[e.c]))throw new Error("CWR: UnsupportedOperationException: ".concat(e.c));return t(e.p),[2]}))}))},t.prototype.initCwr=function(e){var t=this;this.orchestration=new wr(e.i,e.v,e.r,e.c),window[e.n]=function(e,n){t.push({c:e,p:n})},e.q.forEach((function(e){t.push(e)})),e.q=[]},t}();!window.AwsRumClient&&window.AwsNexusTelemetry&&(window.AwsRumClient=window.AwsNexusTelemetry),"function"==typeof fetch&&"function"==typeof navigator.sendBeacon?(new _r).init(window.AwsRumClient):window[window.AwsRumClient.n]=function(){}}()}();
