---
import "../styles/global.css";
import QRCode from "src/assets/qr.svg";

export interface Props {
  side?: "front" | "back";
}

const { side = "front" } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ben Limmer - Business Card</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: #101623;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div class="business-card">
      <div class="business-card-content">
        {
          side === "front" ? (
            <div class="card-layout">
              <div class="main-content">
                <h1 class="name">Ben Limmer</h1>
                <p class="title">AI / DevEx / DevOps Consultant</p>
              </div>
              <div class="divider" />
              <div class="contact-section">
                <span>benlimmer.com</span>
              </div>
            </div>
          ) : (
            <div class="card-layout-back">
              <div class="qr-code-container">
                <QRCode />
              </div>
            </div>
          )
        }
      </div>
    </div>

    <style>
      .business-card {
        width: 100vw;
        height: 57.14vw; /* Maintains 3.5:2 aspect ratio (100/1.75) */
        max-height: 100vh;
        max-width: 175vh; /* Maintains aspect ratio when height-constrained */
        position: relative;
        overflow: hidden;
        background: #101623;
      }

      .business-card-bg {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
      }

      .business-card-content {
        position: absolute;
        width: 95.42857%; /* (3.34 / 3.5) * 100% */
        height: 92%; /* (1.84 / 2.0) * 100% */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .card-layout {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        justify-content: center;
        text-align: center;
        gap: 3vw;
      }

      .card-layout-back {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        gap: 4vw;
      }

      .main-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5vw;
        align-self: center;
      }

      .name {
        font-size: 11vw;
        font-weight: 700;
        color: #60a5fa;
        margin: 0;
        line-height: 0.9;
        letter-spacing: -0.02em;
        text-align: center;
        font-family: "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", "Consolas", monospace; /* Added font */
      }

      .title {
        font-size: 3.7vw;
        font-weight: 500;
        color: #e5e7eb;
        margin: 0;
        line-height: 1.2;
        text-align: center;
        font-family: "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", "Consolas", monospace;
      }

      .divider {
        width: 60%;
        height: 1px;
        background-color: #6b7280;
        align-self: center;
      }

      .contact-section {
        display: flex;
        flex-direction: column;
        gap: 1vw;
        align-items: center;
        align-self: center;
        font-family: "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", "Consolas", monospace;
        font-size: 3.2vw;
        font-weight: 600;
        color: #e5e7eb;
      }

      .qr-code-container {
        width: 30vw;
        height: 30vw;
        max-width: 70%;
        max-height: 70%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .qr-code-container svg {
        width: 100%;
        height: 100%;
        display: block; /* Remove extra space below inline SVGs */
      }
    </style>
  </body>
</html>
